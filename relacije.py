

#============================JA===================================
# A=[65,4,70,10,77,80,16,82,84,85,88,94,36,37,42,45,47,50,52,60,61] 
# R = {(65, 65), (65, 70), (65, 84), (65, 94), (65, 37), (4, 4), (4, 77), (4, 85), (4, 45), (4, 47), (4, 50), (70, 70), (70, 84), (70, 94), (70, 36), (70, 37), (10, 10), (10, 80), (10, 16), (10, 82), (10, 42), (10, 52), (10, 60), (10, 61), (77, 4), (77, 77), (77, 85), (77, 88), (77, 45), (77, 47), (77,50), (80, 10), (80, 16), (80, 82), (80, 42), (80, 52), (80, 60), (80, 61), (16, 10), (16, 80), (16, 16), (16, 82), (16,42), (16, 52), (16, 60), (16, 61), (82, 10), (82, 80), (82, 82), (82, 42), (82, 52), (82, 60), (82, 61), (84, 65), (84, 70), (84, 36), (84, 37), (85, 4), (85, 85), (85, 88), (85, 45), (85, 50), (88, 4), (88,77) ,(88, 85), (88, 88), (88, 45), (88, 47), (88, 50), (94, 65), (94, 70), (94, 36), (94,37), (36, 70), (36, 84), (36,94), (36, 36), (36, 37), (37, 65), (37, 70), (37, 84), (37, 94), (37, 36), (37, 37), (42, 10), (42, 80), (42, 16), (42, 82), (42, 42), (42, 52), (42, 60), (42, 61), (45, 4), (45, 77), (45, 85), (45, 88), (45, 45), (45, 47), (45, 50), (47, 4), (47, 10), (47, 85), (47, 88), (47, 45), (47, 47), (47, 50), (50, 4), (50, 10), (50, 85), (50, 88), (50, 45), (50, 47), (50, 50), (52, 10), (52, 80), (52, 16), (52, 82), (52, 42), (52, 60), (52, 61), (60, 10), (60, 80), (60, 16),  (60, 42), (60, 52), (60, 60), (60, 61), (61, 10), (61, 80), (61, 16), (61,82), (61, 42), (61, 52), (61, 60), (61, 61)}

#===========================TAMARA================================
A = [64, 1, 3, 4, 76, 16, 82, 19, 18, 21, 83, 87, 84, 90, 91, 26, 32, 38, 41, 42, 43, 44, 47, 52, 59]
R = { (64, 64), (64, 1), (64, 90), (64, 91), (64, 43), (1, 1), (1, 43), (3, 3), (3, 19), (3, 38), (4, 4), (4, 87), (4, 41), (4, 42), (4, 44), (4, 47), (4, 52), (4, 59), (76, 76), (76, 18), (76, 84), (76, 26), (76, 32), (16, 16), (16, 3), (16, 82), (16, 19), (16, 21), (16, 38), (82, 3), (82, 16), (82, 82), (82, 19), (82, 21), (82, 38), (19, 3), (19, 16), (19, 82), (19, 19), (19, 21), (19, 38), (18, 76), (18, 18), (18, 83), (18, 26), (18, 32), (21, 3), (21, 16),(21, 82), (21, 19),(21, 38), (83, 18), (83, 84), (83, 26), (83, 32), (87, 4), (87, 87), (87, 41), (87, 42), (87, 44), (87, 47), (87, 52), (87, 59), (84, 76), (84, 83), (84, 84), (84, 26), (84, 32), (90, 90), (90, 91), (90, 43), (91, 64), (91, 90), (91, 91), (91, 43), (26, 76), (26, 83), (26, 84), (26, 32), (32, 76), (32, 18), (32, 83), (32, 84), (32, 26), (32, 32), (38, 3), (38, 16), (38, 82), (38, 19), (38, 21), (38, 38), (41, 4),  (41, 87), (41, 42),  (41, 44), (41, 47), (41, 52), (42, 4), (42, 87), (42, 41), (42, 44), (42, 52), (42, 59), (43, 64), (43, 1), (43, 90), (43, 91), (43, 43), (44, 4), (44, 87), (44, 41), (44, 42), (44, 44), (44, 47), (44, 59), (47, 87), (47, 42), (47, 44), (47, 47), (47, 52), (47, 59), (52, 4), (52, 87), (52, 41), (52, 42), (52, 47), (52, 52), (52, 59), (59, 4), (59, 87), (59, 41), (59, 42), (59,44),(59,52)}

#===========================MARGARETA=============================
# A=[68, 4, 70, 72, 75, 12, 18, 19, 84, 86, 87, 89, 26, 94, 95, 99, 35, 38, 39, 43, 44, 46, 50, 53, 56, 58]
# R={(68,68), (68,87), (68,95), (68,38), (68,39),(68,43), (68,53), (4,4), (4,72) ,(4,12), (4,89), (4,26),(4,50), (70,70), (70,75), (70,94), (70,99), (70,35), (70,44), (70,56), (72,4), (72,72), (72,12), (72,86), (72,26), (72,50), (75,70), (75,75), (75,94), (75,99), (75,35), (75,44), (75,56), (12,4), (12,72), (12,12), (12,86), (12,89), (12,26), (18,18), (18,19), (18,84), (18,46), (18,58), (19,18), (19,19), (19,84), (19,46), (19,58), (84,18), (84,19), (84,84), (84,46), (84,58), (86,4), (86,12), (86,86), (86,89), (86,26), (87,68),(87,95), (87,38), (87,39), (87,43), (87,53), (89,4), (89,12), (89,86), (89,89), (89,26), (89,50), (26,72), (26,12), (26,86), (26,89), (26,26), (26,50), (94,75), (94,94), (94,99), (94,35), (94,44), (94,56), (95,68), (95,87), (95,95), (95,38), (95,39), (95,43),(99,70), (99,75), (99,94), (99,99), (99,44), (99,56),(35,70), (35,75), (35,94), (35,35), (35,44), (38,68), (38,87), (38,95), (38,38), (38,39), (38,43), (38,53), (39,68), (39,87), (39,95), (39,38), (39,39), (39,43), (39,53), (43,68), (43,87), (43,95), (43,38), (43,39), (43,53), (44,70), (44,75), (44,94), (44,99), (44,35), (44,44), (44,56), (46,18), (46,84), (46,46), (46,58), (50,4), (50,72), (50,89), (50,50), (53,68), (53,87), (53,38), (53,39), (53,43), (53,53), (56,70), (56,75), (56,94), (56,99), (56,44), (56,56), (58,18), (58,19), (58,84),(58,46)}


def tablica(R, A):
    linija = "\n" + ("+-----" * (len(A) + 1)) + "+\n"
    tablica = linija

    tablica += '|{:^5}|'.format("R")
    for a in A:
        tablica += '{:^5}|'.format(a)
    tablica += linija

    for a in A:
        tablica += '|{:^5}|'.format(a)
        for b in A:
            tablica += '{:^5}|'.format(int((a, b) in R))
        tablica += linija
    return tablica

print(tablica(R, A))


def nedostajuci_refleksivni_parovi(R, A):
    nedostaju = set()
    for a in A:
        if (a, a) not in R:
            nedostaju.add((a, a))
    return nedostaju

r=nedostajuci_refleksivni_parovi(R,A)


def nedostajuci_simetricni_parovi(R):
    nedostaju_1 = set()
    for (a, b) in R:
        if (b, a) not in R:
            nedostaju_1.add((b, a))
    return nedostaju_1

rs=nedostajuci_simetricni_parovi(R)-nedostajuci_refleksivni_parovi(R,A)


def nedostajuci_tranzitivni_parovi(R):
    nedostaju_2 = set()
    for (a, b) in R:
        for (c, d) in R:
            if b == c and (a, d) not in R:
                nedostaju_2.add((a, d))
    return nedostaju_2

rrs=nedostajuci_tranzitivni_parovi(R)-nedostajuci_simetricni_parovi(R)-nedostajuci_refleksivni_parovi(R,A)



print("\n")
print("\n=====================================")
print("REFLEKSIVNOST: ")
print(r)
print("\n=====================================")
print("SIMETRICNOST")
print(rs)
print("\n=====================================")
print("TRANZITIVNOST")
print(rrs)


print("\n=====================================")
ekv = rs | rrs | r
print("UNIJA")
print(ekv)

print("\n=====================================")
print("BROJ GRANA")
a=len(ekv)+len(R)
print(a)


Rrrs=ekv

def klase_ekvivalencije(R,A):
    klase=set()
    for a in A:
        C_a= frozenset(b for b in A if (a,b) in R )
        klase.add(C_a) 
    return klase

klase_ekv = klase_ekvivalencije(Rrrs, A)
print("\n=====================================")
print("KLASE EKVIVALENCIJE:")
print(", ".join("{" + ", ".join(str(x) for x in sorted(klasa)) + "}" for klasa in klase_ekv))
